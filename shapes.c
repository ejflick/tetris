#include "shapes.h"
#include <SDL3/SDL_pixels.h>

static const uint32_t SHAPE_COLORS[7] = {
  0xf0dab1,
  0xe39aac,
  0xc45d9f,
  0x634b7d,
  0x6461c2,
  0x2ba9b4,
  0x93d4b5
};

static const char SHAPES[TOTAL_SHAPES][64] = {
                            // T
                            ".+.."
                            "+++."
                            "...."
                            "...."

                            ".+.."
                            ".++."
                            ".+.."
                            "...."

                            "...."
                            "+++."
                            ".+.."
                            "...."

                            ".+.."
                            "++.."
                            ".+.."
                            "....",

                            // L facing left
                            ".+.."
                            ".+.."
                            "++.."
                            "...."

                            "+..."
                            "+++."
                            "...."
                            "...."

                            "++.."
                            "+..."
                            "+..."
                            "...."

                            "+++."
                            "..+."
                            "...."
                            "....",

                            // L facing right
                            "+..."
                            "+..."
                            "++.."
                            "...."

                            "+++."
                            "+..."
                            "...."
                            "...."

                            "++.."
                            ".+.."
                            ".+.."
                            "...."

                            "..+."
                            "+++."
                            "...."
                            "....",

                            // SQUARE SHAPE
                            "++.."
                            "++.."
                            "...."
                            "...."

                            "++.."
                            "++.."
                            "...."
                            "...."

                            "++.."
                            "++.."
                            "...."
                            "...."

                            "++.."
                            "++.."
                            "...."
                            "....",

                            // I SHAPE
                            "+..."
                            "+..."
                            "+..."
                            "+..."

                            "++++"
                            "...."
                            "...."
                            "...."

                            "+..."
                            "+..."
                            "+..."
                            "+..."

                            "++++"
                            "...."
                            "...."
                            "....",
                          
                            // S
                            "+..."
                            "++.."
                            ".+.."
                            "...."

                            ".++."
                            "++.."
                            "...."
                            "...."

                            "+..."
                            "++.."
                            ".+.."
                            "...."

                            ".++."
                            "++.."
                            "...."
                            "....",
                          
                            // Z
                            ".+.."
                            "++.."
                            "+..."
                            "...."

                            "++.."
                            ".++."
                            "...."
                            "...."

                            ".+.."
                            "++.."
                            "+..."
                            "...."

                            "++.."
                            ".++."
                            "...."
                            "...."};



char ShapeCellAt(Shape shape, Rotation rotation, int x, int y) {
  return SHAPES[shape][(rotation * 16) + (y * 4) + x];
}

uint32_t ShapeColor(Shape shape) {
  return SHAPE_COLORS[shape];
}